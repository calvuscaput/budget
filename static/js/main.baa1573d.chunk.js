(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),i=a.n(o),c=a(108),s=a(7),u=a(15),l=a(42),m=a(16),p=a(2),d={items:[],positiveAmount:0,negativeAmount:0,amount:0,loading:!1,error:null},h=function(e){var t={positiveAmount:0,negativeAmount:0,amount:0};return e.map(function(e){return"append"===e.type?t.positiveAmount=t.positiveAmount+e.value:t.negativeAmount=t.negativeAmount+e.value,null}),t.amount=t.positiveAmount-t.negativeAmount,t},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return function(e,t){var a=Object(p.a)({},e,{items:Object(m.a)(e.items)});return a.items.unshift({type:t.itemType,name:t.itemName,value:t.itemValue,category:t.itemCategory,key:t.itemKey,mobileTrigger:!1}),(a=Object(p.a)({},a,h(a.items))).error=null,a.loading=!1,a}(e,t);case"REMOVE_ITEM":return function(e,t){var a=Object(p.a)({},e,{items:Object(m.a)(e.items)});return a.items=a.items.filter(function(e){return e.key!==t.key}),a.loading=!1,a=Object(p.a)({},a,h(a.items))}(e,t);case"MOBILE_SHOW_ITEM":return function(e,t){var a=Object(p.a)({},e,{items:Object(m.a)(e.items)});return a.items=a.items.map(function(e){return e.key===t.key&&(!1===e.mobileTrigger?e.mobileTrigger=!0:e.mobileTrigger=!1),e}),a}(e,t);case"ITEM_LOADING_START":return function(e){var t=Object(p.a)({},e,{items:Object(m.a)(e.items)});return t.loading=!0,t}(e);case"ITEM_LOADING_FAIL":return function(e,t){var a=Object(p.a)({},e,{items:Object(m.a)(e.items)});return a.loading=!1,a.error=t.error,a}(e,t);case"ITEM_LOADING_FAIL":return function(e){var t=Object(p.a)({},e,{items:Object(m.a)(e.items)});return t.loading=!1,t}(e);case"CLEAR_ITEMS":return function(e){return Object(p.a)({},e,{items:[]})}(e);default:return e}},v={token:null,userId:null,error:null,loading:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return Object(p.a)({},e,{token:t.idToken,userId:t.userId,error:null,loading:!1,authRedirectPath:"/"})}(e,t);case"AUTH_FAIL":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e){return Object(p.a)({},e,{token:null,userId:null})}(e);case"SET_AUTH_REDIRECT_PATH":return function(e,t){return Object(p.a)({},e,{authRedirectPath:t.path})}(e,t);default:return e}},y=(a(63),a(4)),E=a(5),_=a(8),b=a(6),I=a(9),A=a(43),O=a.n(A),k=a(109),j=a(67),T=a(107),N=a(111),w=a(110),S=a(28),C=a.n(S),M=function(e){return r.a.createElement("li",{className:C.a.ListItem},r.a.createElement(w.a,{to:e.link,className:C.a.NavItem,exact:e.exact},e.children))},L=a(44),D=a.n(L),x=function(){return r.a.createElement("header",{className:[D.a.NavItems,"Block"].join(" ")},r.a.createElement("ul",null,r.a.createElement(M,{link:"/",exact:!0},"\u0411\u044e\u0434\u0436\u0435\u0442"),r.a.createElement(M,{link:"/stats"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),r.a.createElement(M,{link:"/logout"},"\u0412\u044b\u0439\u0442\u0438")))},H=function(){return r.a.createElement(x,null)},B=function(e){function t(){return Object(y.a)(this,t),Object(_.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.isAuth?r.a.createElement(H,null):r.a.createElement("div",{className:"Block",style:{padding:"37px"}},"\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f/\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f");return r.a.createElement(r.a.Fragment,null,e,r.a.createElement("div",null,this.props.children))}}]),t}(n.Component),R=Object(s.b)(function(e){return{isAuth:null!==e.auth.token}})(B),F=a(23),P=a.n(F),U=P.a.create({baseURL:"https://budget-3fd68.firebaseio.com/",headers:{"X-Firebase-Decoding":"1"}}),V=function(e){return{type:"ADD_ITEM",itemName:e.name,itemType:e.itemType,itemValue:e.value,itemCategory:e.category,itemKey:e.key,userId:e.userId}},G=function(e){return{type:"ITEM_LOADING_FAIL",error:e}},q=function(e){return function(t){setTimeout(function(){t(z())},1e3*+e)}},z=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},W=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},K=a(17),X=a.n(K),Z=(a(90),function(){return r.a.createElement("div",{className:"load-bar"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"bar"}))}),J=a(18),Y=a.n(J),$=a(29),Q=a.n($),ee=function(e){var t=[Q.a.Button];return e.inItem&&t.push(Q.a.inItem),r.a.createElement("button",{disabled:e.dis,onClick:e.click,className:t.join(" ")},e.children)},te=a(45),ae=a.n(te),ne=function(e){return r.a.createElement("input",{className:ae.a.Input,type:e.type,name:e.name,id:e.id,onChange:e.changed,value:e.value})},re=a(46),oe=a.n(re),ie=function(e){return e.children?r.a.createElement("p",{className:oe.a.FormErrorMessage},e.children):null},ce=function(e,t){var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.isNumeric){a=/^\d+$/.test(e)&&a}if(t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}return a},se={category:{required:!0},value:{required:!0,isNumeric:!0},name:{required:!0}},ue={email:{required:!0,isEmail:!0},password:{required:!0,maxLength:16,minLength:5}},le=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={type:"deduct",category:"",value:"",name:"",valid:!1,formErrorMessages:{value:"",name:"",category:""},touched:{value:!1,name:!1,category:!1}},a.addHandler=function(e){e.preventDefault(),a.props.onSendItem({name:a.state.name,itemType:a.state.type,value:+a.state.value,category:a.state.category,userId:a.props.user},a.props.token)},a.formChangeHandler=function(e){switch(e.target.id){case"type":a.setState({type:e.target.value});break;case"category":a.setState({category:e.target.value,touched:Object(p.a)({},a.state.touched,{category:!0})});break;case"value":a.setState({value:e.target.value,touched:Object(p.a)({},a.state.touched,{value:!0})});break;case"name":a.setState({name:e.target.value,touched:Object(p.a)({},a.state.touched,{name:!0})})}},a}return Object(I.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t={backgroundColor:"deduct"===this.state.type?"#ff3c65":"#28a745"};return r.a.createElement("div",{className:[Y.a.Adder,"Block"].join(" ")},r.a.createElement("form",{action:""},r.a.createElement("select",{style:t,className:Y.a.Select,id:"type",value:this.state.type,name:"type",onChange:this.formChangeHandler},r.a.createElement("option",{value:"deduct"},"-"),r.a.createElement("option",{value:"append"},"+")),r.a.createElement("div",{className:Y.a.Field},r.a.createElement("label",null,"\u0421\u0443\u043c\u043c\u0430: "),r.a.createElement(ne,{value:this.state.value,type:"text",id:"value",name:"value",changed:this.formChangeHandler})),r.a.createElement("div",{className:Y.a.Field},r.a.createElement("label",null,"\u041d\u0430\u0437\u0430\u0432\u0430\u043d\u0438\u0435: "),r.a.createElement(ne,{value:this.state.name,type:"text",id:"name",name:"name",changed:this.formChangeHandler})),r.a.createElement("div",{className:Y.a.Field},r.a.createElement("label",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "),r.a.createElement(ne,{value:this.state.category,type:"text",id:"category",name:"category",changed:this.formChangeHandler})),r.a.createElement(ee,{dis:!this.state.valid,click:function(t){return e.addHandler(t)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement(ie,null,this.state.formErrorMessages.value),r.a.createElement(ie,null,this.state.formErrorMessages.name),r.a.createElement(ie,null,this.state.formErrorMessages.category))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},n=ce(t.category,se.category),r=ce(t.value,se.value),o=ce(t.name,se.name);return!n&&t.touched.category&&(a.category="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),!r&&t.touched.value&&(a.value="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 \u043d\u0435 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),!o&&t.touched.name&&(a.name="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0430/\u0440\u0430\u0441\u0445\u043e\u0434\u0430"),{valid:n&&r&&o,formErrorMessages:a}}}]),t}(n.Component),me=Object(s.b)(null,function(e){return{onSendItem:function(t,a){return e(function(e,t){return function(a){var n="?auth="+t;a({type:"ITEM_LOADING_START"}),U.post("/items.json"+n,e).then(function(t){a(V(Object(p.a)({},e,{key:t.data.name})))}).catch(function(e){a(G(e))})}}(t,a))}}})(le),pe=a(47),de=a.n(pe),he=function(e){return r.a.createElement("div",{className:[de.a.Amounts,"Block"].join(" ")},r.a.createElement("p",null,e.positiveAmount),r.a.createElement("p",null,e.negativeAmount))},ge=a(13),ve=a.n(ge),fe=function(e){var t="-",a=ve.a.Negative;"append"===e.type&&(t="+",a=ve.a.Positive);var n=window.matchMedia("(max-width: 490px)").matches&&e.mobileShow?r.a.createElement("span",{className:ve.a.MobileView},r.a.createElement("span",{className:ve.a.ItemCategory},e.category),r.a.createElement(ee,{click:e.delClick},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):null;return r.a.createElement("li",{className:[ve.a.Item,a].join(" ")},r.a.createElement("p",{onClick:e.showClick},r.a.createElement("span",{className:ve.a.ItemType},t),r.a.createElement("span",{className:ve.a.ItemValue},+e.value),r.a.createElement("span",{className:ve.a.ItemName},e.name),r.a.createElement("span",{className:ve.a.DesktopView},r.a.createElement("span",{className:ve.a.ItemCategory},e.category),r.a.createElement(ee,{click:e.delClick},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),n)},ye=a(48),Ee=a.n(ye),_e=Object(s.b)(function(e){return{token:e.auth.token}},function(e){return{onRemoveItem:function(t,a){return e(function(e,t){return function(a){var n="?auth="+t;a({type:"ITEM_LOADING_START"}),U.delete("/items/".concat(e,".json")+n).then(function(t){t&&a(function(e){return{type:"REMOVE_ITEM",key:e}}(e)),a({type:"ITEM_LOADING_FAIL"})}).catch(function(e){a(G(e.response.data.error))})}}(t,a))},onMobileShow:function(t){return e({type:"MOBILE_SHOW_ITEM",key:t})}}})(function(e){var t=r.a.createElement("p",null,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0438\u0445\u043e\u0434/\u0440\u0430\u0441\u0445\u043e\u0434");return 0!==e.items.length&&(t=e.items.map(function(t){return r.a.createElement(fe,{key:t.key,name:t.name,type:t.type,category:t.category,value:t.value,mobileShow:t.mobileTrigger,delClick:function(){return e.onRemoveItem(t.key,e.token)},showClick:function(){return e.onMobileShow(t.key)}})})),r.a.createElement("ul",{className:[Ee.a.ItemList,"Block"].join(" ")},t)}),be=a(49),Ie=a.n(be),Ae=a(50),Oe=a.n(Ae),ke=function(e){return e.show?r.a.createElement("div",{className:Oe.a.Backdrop,onClick:e.clicked}):null},je=function(e){function t(){return Object(y.a)(this,t),Object(_.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:Ie.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(n.Component),Te=function(e,t){return function(a){function n(){var e,t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(_.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(I.a)(n,a),Object(E.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null}),t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),r.a.createElement(e,this.props))}}]),n}(n.Component)},Ne=function(e){function t(){return Object(y.a)(this,t),Object(_.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.onSetItems(this.props.userId,this.props.token)}},{key:"render",value:function(){var e=this.props.amount>=0?X.a.Positive:X.a.Negative,t=null;return this.props.loading&&(t=r.a.createElement(Z,null)),r.a.createElement("div",{className:X.a.Budget},r.a.createElement("p",{className:[X.a.Amount,"Block"].join(" ")},"\u041e\u0441\u0442\u0430\u0442\u043e\u043a: ",r.a.createElement("span",{className:[X.a.Strong,e].join(" ")},this.props.amount)),r.a.createElement(me,{user:this.props.userId,token:this.props.token}),r.a.createElement(he,{positiveAmount:this.props.positiveAmount,negativeAmount:this.props.negativeAmount}),t,r.a.createElement(_e,{items:this.props.items}))}}]),t}(n.Component),we=Object(s.b)(function(e){return{amount:e.budget.amount,positiveAmount:e.budget.positiveAmount,negativeAmount:e.budget.negativeAmount,items:e.budget.items,loading:e.budget.loading,userId:e.auth.userId,token:e.auth.token}},function(e){return{onSetItems:function(t,a){return e(function(e,t){return function(a){a({type:"ITEM_LOADING_START"}),a({type:"CLEAR_ITEMS"});var n="?auth="+t+'&orderBy="userId"&equalTo="'+e+'"';U.get("items.json"+n).then(function(e){a({type:"ITEM_LOADING_FAIL"}),e.data&&Object.keys(e.data).map(function(t){var n=e.data[t];return a(V(Object(p.a)({},n,{key:t}))),t})}).catch(function(e){a(G(e))})}}(t,a))}}})(Te(Ne,U)),Se=a(30),Ce=a.n(Se),Me=function(e){var t={width:e.children};return"append"===e.type?t.backgroundColor="#28a745":t.backgroundColor="#ff3c65",r.a.createElement("span",{className:Ce.a.Progress},r.a.createElement("span",{className:Ce.a.Bar,style:t},e.children))},Le=a(24),De=a.n(Le),xe=function(e){return r.a.createElement("li",{className:De.a.Item},r.a.createElement("span",{className:De.a.Category},e.category),r.a.createElement(Me,{type:e.type},e.percent),r.a.createElement("span",{className:De.a.Value},e.value))},He=a(31),Be=a.n(He),Re=function(e){var t=Object.keys(e.items).map(function(t){return r.a.createElement(xe,{category:t,key:t,percent:e.items[t].percent+"%",value:e.items[t].value,type:e.items[t].type})}),a="positive"===e.type?"\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432":"\u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432";return r.a.createElement("div",{className:[Be.a.StatItemList,"Block"].join(" ")},r.a.createElement("h4",{className:Be.a.Header},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 ",a),r.a.createElement("ul",null,t))},Fe=a(51),Pe=a.n(Fe),Ue=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={categories:{}},a}return Object(I.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:Pe.a.Header},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c:"),r.a.createElement(Re,{items:this.state.categories.positive,type:"positive"}),r.a.createElement(Re,{items:this.state.categories.negative,type:"negative"}))}}],[{key:"getDerivedStateFromProps",value:function(e){var t={positive:{},negative:{}};return e.items.map(function(a){var n=0;return a.category=a.category.toLowerCase(),"append"===a.type?(n=e.positiveAmount,t.positive[a.category]?(t.positive[a.category].value+=a.value,t.positive[a.category].percent=(t.positive[a.category].value/n*100).toFixed(2)):(t.positive[a.category]={value:a.value},t.positive[a.category].type=a.type,t.positive[a.category].percent=(t.positive[a.category].value/n*100).toFixed(2))):(n=e.negativeAmount,t.negative[a.category]?(t.negative[a.category].value+=a.value,t.negative[a.category].percent=(t.negative[a.category].value/n*100).toFixed(2)):(t.negative[a.category]={value:a.value},t.negative[a.category].type=a.type,t.negative[a.category].percent=(t.negative[a.category].value/n*100).toFixed(2))),a}),{categories:t}}}]),t}(n.Component),Ve=Object(s.b)(function(e){return{items:e.budget.items,positiveAmount:e.budget.positiveAmount,negativeAmount:e.budget.negativeAmount}})(Ue),Ge=function(e){function t(){return Object(y.a)(this,t),Object(_.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(T.a,{to:"/"})}}]),t}(n.Component),qe=Object(s.b)(null,function(e){return{onLogout:function(){return e(z())}}})(Ge),ze=a(32),We=a.n(ze),Ke=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",valid:!1,formErrorMessages:{email:"",password:""},touched:{email:!1,password:!1}},a.signupHandler=function(e){e.preventDefault(),a.props.onAuth(a.state.email,a.state.password,!1)},a.signinHandler=function(e){e.preventDefault(),a.props.onAuth(a.state.email,a.state.password,!0)},a.errorHandler=function(){switch(a.props.error.message){case"EMAIL_EXISTS":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u043e\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.";case"OPERATION_NOT_ALLOWED":return"\u0412\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.";case"TOO_MANY_ATTEMPTS_TRY_LATER":return"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.";case"EMAIL_NOT_FOUND":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u043e\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.";case"INVALID_PASSWORD":return"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.";case"USER_DISABLED":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.";default:return"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435"}},a.formChangeHandler=function(e){switch(e.target.id){case"email":a.setState({email:e.target.value,touched:Object(p.a)({},a.state.touched,{email:!0})});break;case"password":a.setState({password:e.target.value,touched:Object(p.a)({},a.state.touched,{password:!0})})}},a}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){"/"!==this.props.authRedirectPath&&this.props.onSetAuthRedirctPath()}},{key:"render",value:function(){var e=null;this.props.isAuthenticated&&(e=r.a.createElement(T.a,{to:this.props.authRedirectPath}));var t=null;this.props.error&&(t=r.a.createElement(ie,null,this.errorHandler()));var a=this.props.loading?r.a.createElement(Z,null):null;return r.a.createElement("form",{action:"",className:[We.a.Auth,"Block"].join(" ")},e,r.a.createElement("label",{htmlFor:"email"},"\u0412\u0430\u0448 E-mail:"),r.a.createElement(ne,{type:"text",name:"email",id:"email",changed:this.formChangeHandler,value:this.state.email}),r.a.createElement(ie,null,this.state.formErrorMessages.email),r.a.createElement("label",{htmlFor:"password"},"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement(ne,{type:"password",name:"password",id:"password",changed:this.formChangeHandler,value:this.state.password}),r.a.createElement(ie,null,this.state.formErrorMessages.password),a,r.a.createElement("div",{className:We.a.Buttons},r.a.createElement(ee,{dis:!this.state.valid,click:this.signinHandler},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(ee,{dis:!this.state.valid,click:this.signupHandler},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},n=ce(t.email,ue.email),r=ce(t.password,ue.password);return!n&&t.touched.email&&(a.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 e-mail"),!r&&t.touched.password&&(a.password="\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442 5 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),{valid:n&&r,formErrorMessages:a}}}]),t}(n.Component),Xe=Object(s.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}},function(e){return{onAuth:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyDbZpovE_aVCKoOL1-b7KARXZCeoCRRKn0";a&&(o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyDbZpovE_aVCKoOL1-b7KARXZCeoCRRKn0"),P.a.post(o,r).then(function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),n(W(e.data.idToken,e.data.localId)),n(q(e.data.expiresIn))}).catch(function(e){n(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error))})}}(t,a,n))},onSetAuthRedirctPath:function(){return e({type:"SET_AUTH_REDIRECT_PATH",path:"/"})}}})(Ke),Ze=function(e){function t(){return Object(y.a)(this,t),Object(_.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignUp()}},{key:"render",value:function(){var e=r.a.createElement(k.a,null,r.a.createElement(j.a,{path:"/",exact:!0,component:we}),r.a.createElement(j.a,{path:"/stats",component:Ve}),r.a.createElement(j.a,{path:"/logout",component:qe}),r.a.createElement(T.a,{to:"/"}));return this.props.isAuth||(e=r.a.createElement(k.a,null,r.a.createElement(j.a,{path:"/auth",component:Xe}),r.a.createElement(T.a,{to:"/auth"}))),r.a.createElement("div",{className:O.a.App},r.a.createElement(R,null,e))}}]),t}(n.Component),Je=Object(N.a)(Object(s.b)(function(e){return{isAuth:null!==e.auth.token}},function(e){return{onTryAutoSignUp:function(){return e(function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(z());else{var n=localStorage.getItem("userId");e(W(t,n)),e(q((a.getTime()-(new Date).getTime())/1e3))}}else e(z())})}}})(Ze));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=u.d,$e=Object(u.c)({budget:g,auth:f}),Qe=Object(u.e)($e,Ye(Object(u.a)(l.a))),et=r.a.createElement(s.a,{store:Qe},r.a.createElement(c.a,{basename:"/budget"},r.a.createElement(Je,null)));i.a.render(et,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},13:function(e,t,a){e.exports={Item:"Item_Item__1qhg_",ItemType:"Item_ItemType__UtFSL",ItemValue:"Item_ItemValue__2RljI",ItemName:"Item_ItemName__2B_Sr",Negative:"Item_Negative__8XazJ",Positive:"Item_Positive__2iOUp",DesktopView:"Item_DesktopView__12EnY",MobileView:"Item_MobileView__3iX7K"}},17:function(e,t,a){e.exports={Budget:"Budget_Budget__1ddnK",Strong:"Budget_Strong__2IFmj",Amount:"Budget_Amount__2g9-q",Positive:"Budget_Positive__1kfGg",Negative:"Budget_Negative__3Zd0J"}},18:function(e,t,a){e.exports={Adder:"Adder_Adder__2WkW6"}},24:function(e,t,a){e.exports={Item:"StatItem_Item__1Q4SW",Category:"StatItem_Category__2gJkN",Value:"StatItem_Value__1G4TP"}},28:function(e,t,a){e.exports={NavItem:"NavItem_NavItem__1ajr3"}},29:function(e,t,a){e.exports={Button:"Button_Button__2CGX4",inItem:"Button_inItem__2xz9I"}},30:function(e,t,a){e.exports={Progress:"Progress_Progress__39clJ",Bar:"Progress_Bar__1rGFc"}},31:function(e,t,a){e.exports={StatItemList:"StatItemList_StatItemList__1j3Hu",Header:"StatItemList_Header__ePAAt"}},32:function(e,t,a){e.exports={Auth:"Auth_Auth__1Vo-Y",Buttons:"Auth_Buttons__3_uhM"}},43:function(e,t,a){e.exports={App:"App_App__2TzDM"}},44:function(e,t,a){e.exports={NavItems:"NavItems_NavItems__36fAo"}},45:function(e,t,a){e.exports={Input:"Input_Input__34o1U"}},46:function(e,t,a){e.exports={FormErrorMessage:"FormErrorMessage_FormErrorMessage__ZGW3q"}},47:function(e,t,a){e.exports={Amounts:"Amounts_Amounts__3Or2k"}},48:function(e,t,a){e.exports={ItemList:"ItemList_ItemList__CZGME"}},49:function(e,t,a){e.exports={Modal:"Modal_Modal__1k-xk"}},50:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__hy6vC"}},51:function(e,t,a){e.exports={Header:"Stats_Header__2TUfP"}},53:function(e,t,a){e.exports=a(106)},63:function(e,t,a){},90:function(e,t,a){}},[[53,2,1]]]);
//# sourceMappingURL=main.baa1573d.chunk.js.map